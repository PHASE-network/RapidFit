<RapidFit>
	/////////////////////////////////////////
	// Example RapidFit configuration file //
	// Author: Ben Wynne                   //
	/////////////////////////////////////////
	<ParameterSet>
		<PhysicsParameter>
			<Name>gamma</Name>
			<Value>0.68</Value>
			<Type>Unbounded</Type>
			<Unit>Unitless</Unit>
		</PhysicsParameter>

		<PhysicsParameter>
			<Name>deltaGamma</Name>
			<Value>0.068</Value>
			<Type>Unbounded</Type>
			<Unit>Unitless</Unit>
		</PhysicsParameter>

		<PhysicsParameter>
			<Name>Aperp_sq</Name>
			<Value>0.207</Value>
			<Minimum>0.0</Minimum>
			<Maximum>1.0</Maximum>
			<Type>Free</Type>
			<Unit>Unitless</Unit>
		</PhysicsParameter>

		<PhysicsParameter>
			<Name>Azero_sq</Name>
			<Value>0.56</Value>
			<Minimum>0.0</Minimum>
			<Maximum>1.0</Maximum>
			<Type>Free</Type>
			<Unit>Unitless</Unit>
		</PhysicsParameter>

		<PhysicsParameter>
			<Name>delta_para</Name>
			<Value>-2.93</Value>
			<Minimum>-3.14159</Minimum>
			<Maximum>3.14159</Maximum>
			<Type>Free</Type>
			<Unit>Unitless</Unit>
		</PhysicsParameter>

		<PhysicsParameter>
			<Name>delta_perp</Name>
			<Value>2.91</Value>
			<Minimum>-3.14159</Minimum>
			<Maximum>3.14159</Maximum>
			<Type>Free</Type>
			<Unit>Unitless</Unit>
		</PhysicsParameter>

		<PhysicsParameter>
			<Name>delta_zero</Name>
			<Value>0.0</Value>
			<Type>Fixed</Type>
			<Unit>Unitless</Unit>
		</PhysicsParameter>

		<PhysicsParameter>
			<Name>deltaM</Name>
			<Value>17.77</Value>
			<Minimum>17.0</Minimum>
                        <Maximum>19.0</Maximum>
			<Type>Free</Type>
			<Unit>MeV/c2</Unit>
		</PhysicsParameter>

		<PhysicsParameter>
			<Name>Phi_s</Name>
			<Value>-0.0368</Value>
			<Minimum>-3.14</Minimum>
			<Maximum>3.14</Maximum>
			<Type>Free</Type>
			<Unit>Unitless</Unit>
		</PhysicsParameter>

                <PhysicsParameter>
                        <Name>mean_time_res1</Name>
                        <Value>0.0</Value>
                        <Type>Fixed</Type>
                        <Unit>ps</Unit>
                </PhysicsParameter>

                <PhysicsParameter>
                        <Name>sigma_time_res1</Name>
                        <Value>0.0315</Value>
                        <Type>Fixed</Type>
                        <Unit>ps</Unit>
                </PhysicsParameter>

                <PhysicsParameter>
                        <Name>mean_time_res2</Name>
                        <Value>0.0</Value>
                        <Type>Fixed</Type>
                        <Unit>ps</Unit>
                </PhysicsParameter>

                <PhysicsParameter>
                        <Name>sigma_time_res2</Name>
                        <Value>0.0667</Value>
                        <Type>Fixed</Type>
                        <Unit>ps</Unit>
                </PhysicsParameter>

                <PhysicsParameter>
                        <Name>frac_time_res1</Name>
                        <Value>0.85</Value>
                        <Type>Fixed</Type>
                        <Unit>Unitless</Unit>
                </PhysicsParameter>

	</ParameterSet>

	// Minimising with Minuit2
	<Minimiser>Minuit2</Minimiser>

	// Requesting two contour plots, pull plots and time projection
	<Output>
		<ContourPlot>
			<XParameter>gamma</XParameter>
			<YParameter>deltaGamma</YParameter>
		</ContourPlot>

		<ContourPlot>
			<XParameter>delta_para</XParameter>
			<YParameter>delta_perp</YParameter>
		</ContourPlot>

		<Projection>time</Projection>

		<DoPullPlots>FlatNTuple</DoPullPlots>
	</Output>

	// Minimising weighted NLL
	<FitFunction>
		<FunctionName>NegativeLogLikelihood</FunctionName>
		<WeightName>eventWeight</WeightName>
	</FitFunction>

	// Single fit
	<NumberRepeats>1</NumberRepeats>

	// 100000 toy events
	<ToFit>
		<PDF>
			<Name>Bs2JpsiPhi_mistagObservable</Name>
		</PDF>

		<DataSet>
			<Subset>
				<Source>File</Source>
				<NumberEvents>10000</NumberEvents>
				<FileName>config/data_newEvtGen_100k_lhcb_convention_mistag0.txt</FileName>
			</Subset>

			<Subset>
				<Source>Foam</Source>
				<NumberEvents>5000</NumberEvents>
			</Subset>

			<PhaseSpaceBoundary>
				<Observable>
					<Name>time</Name>
					<Minimum>-2.0</Minimum>
					<Maximum>15.0</Maximum>
					<Unit>ps</Unit>
				</Observable>

                                <Observable>
                                        <Name>timeErr</Name>
                        		<Value>1.0</Value>
                                        <Unit>ps</Unit>
                                </Observable>

				<Observable>
					<Name>cosTheta</Name>
					<Minimum>-1.0</Minimum>
					<Maximum>1.0</Maximum>
					<Unit>Unitless</Unit>
				</Observable>

				<Observable>
					<Name>phi</Name>
					<Minimum>-3.14159</Minimum>
					<Maximum>3.14159</Maximum>
					<Unit>rad</Unit>
				</Observable>

				<Observable>
					<Name>cosPsi</Name>
					<Minimum>-1.0</Minimum>
					<Maximum>1.0</Maximum>
					<Unit>Unitless</Unit>
				</Observable>

				<Observable>
					<Name>tag</Name>
					<Value>1.0</Value>
					<Value>-1.0</Value>
					<Unit>Unitless</Unit>
				</Observable>

				<Observable>
					<Name>mistag</Name>
					<Value>0.33</Value>
					<Unit>Unitless</Unit>
				</Observable>

				<Observable>
					<Name>eventWeight</Name>
					<Value>1.0</Value>
					<Unit>Unitless</Unit>
				</Observable>

			</PhaseSpaceBoundary>
		</DataSet>
	</ToFit>
</RapidFit>
